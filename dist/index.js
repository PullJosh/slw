!function e(t,n,r){function a(i,l){if(!n[i]){if(!t[i]){var s="function"==typeof require&&require;if(!l&&s)return s(i,!0);if(o)return o(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[i]={exports:{}};t[i][0].call(c.exports,function(e){var n=t[i][1][e];return a(n?n:e)},c,c.exports,e,t,n,r)}return n[i].exports}for(var o="function"==typeof require&&require,i=0;i<r.length;i++)a(r[i]);return a}({1:[function(e,t,n){!function(e,r,a){"function"==typeof define&&define.amd?define([],a):"object"==typeof n?t.exports=a():r[e]=a()}("Please",this,function(){"use strict";function e(){function e(e,t,n){var r=Math.random;return n instanceof i&&(r=n.random),Math.floor(r()*(t-e+1))+e}function t(e,t,n){var r=Math.random;return n instanceof i&&(r=n.random),r()*(t-e)+e}function n(e,t,n){return Math.max(t,Math.min(e,n))}function r(e,t){var n;switch(e){case"hex":for(n=0;n<t.length;n++)t[n]=l.HSV_to_HEX(t[n]);break;case"rgb":for(n=0;n<t.length;n++)t[n]=l.HSV_to_RGB(t[n]);break;case"rgb-string":for(n=0;n<t.length;n++){var r=l.HSV_to_RGB(t[n]);t[n]="rgb("+r.r+","+r.g+","+r.b+")"}break;case"hsv":break;default:console.error("Format not recognized.")}return t}function a(e){var t=l.HSV_to_RGB(e),n=(299*t.r+587*t.g+114*t.b)/1e3;return n>=128?"dark":"light"}function o(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function i(e){function t(){r=(r+1)%256,a=(a+n[r])%256;var e=n[r];return n[r]=n[a],n[a]=e,n[(n[r]+n[a])%256]}for(var n=[],r=0,a=0,o=0;256>o;o++)n[o]=o;for(var i=0,l=0;256>i;i++){l=(l+n[i]+e.charCodeAt(i%e.length))%256;var s=n[i];n[i]=n[l],n[l]=s}this.random=function(){for(var e=0,n=0,r=1;8>e;e++)n+=t()*r,r*=256;return n/0x10000000000000000}}var l={},s={aliceblue:"F0F8FF",antiquewhite:"FAEBD7",aqua:"00FFFF",aquamarine:"7FFFD4",azure:"F0FFFF",beige:"F5F5DC",bisque:"FFE4C4",black:"000000",blanchedalmond:"FFEBCD",blue:"0000FF",blueviolet:"8A2BE2",brown:"A52A2A",burlywood:"DEB887",cadetblue:"5F9EA0",chartreuse:"7FFF00",chocolate:"D2691E",coral:"FF7F50",cornflowerblue:"6495ED",cornsilk:"FFF8DC",crimson:"DC143C",cyan:"00FFFF",darkblue:"00008B",darkcyan:"008B8B",darkgoldenrod:"B8860B",darkgray:"A9A9A9",darkgrey:"A9A9A9",darkgreen:"006400",darkkhaki:"BDB76B",darkmagenta:"8B008B",darkolivegreen:"556B2F",darkorange:"FF8C00",darkorchid:"9932CC",darkred:"8B0000",darksalmon:"E9967A",darkseagreen:"8FBC8F",darkslateblue:"483D8B",darkslategray:"2F4F4F",darkslategrey:"2F4F4F",darkturquoise:"00CED1",darkviolet:"9400D3",deeppink:"FF1493",deepskyblue:"00BFFF",dimgray:"696969",dimgrey:"696969",dodgerblue:"1E90FF",firebrick:"B22222",floralwhite:"FFFAF0",forestgreen:"228B22",fuchsia:"FF00FF",gainsboro:"DCDCDC",ghostwhite:"F8F8FF",gold:"FFD700",goldenrod:"DAA520",gray:"808080",grey:"808080",green:"008000",greenyellow:"ADFF2F",honeydew:"F0FFF0",hotpink:"FF69B4",indianred:"CD5C5C",indigo:"4B0082",ivory:"FFFFF0",khaki:"F0E68C",lavender:"E6E6FA",lavenderblush:"FFF0F5",lawngreen:"7CFC00",lemonchiffon:"FFFACD",lightblue:"ADD8E6",lightcoral:"F08080",lightcyan:"E0FFFF",lightgoldenrodyellow:"FAFAD2",lightgray:"D3D3D3",lightgrey:"D3D3D3",lightgreen:"90EE90",lightpink:"FFB6C1",lightsalmon:"FFA07A",lightseagreen:"20B2AA",lightskyblue:"87CEFA",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"B0C4DE",lightyellow:"FFFFE0",lime:"00FF00",limegreen:"32CD32",linen:"FAF0E6",magenta:"FF00FF",maroon:"800000",mediumaquamarine:"66CDAA",mediumblue:"0000CD",mediumorchid:"BA55D3",mediumpurple:"9370D8",mediumseagreen:"3CB371",mediumslateblue:"7B68EE",mediumspringgreen:"00FA9A",mediumturquoise:"48D1CC",mediumvioletred:"C71585",midnightblue:"191970",mintcream:"F5FFFA",mistyrose:"FFE4E1",moccasin:"FFE4B5",navajowhite:"FFDEAD",navy:"000080",oldlace:"FDF5E6",olive:"808000",olivedrab:"6B8E23",orange:"FFA500",orangered:"FF4500",orchid:"DA70D6",palegoldenrod:"EEE8AA",palegreen:"98FB98",paleturquoise:"AFEEEE",palevioletred:"D87093",papayawhip:"FFEFD5",peachpuff:"FFDAB9",peru:"CD853F",pink:"FFC0CB",plum:"DDA0DD",powderblue:"B0E0E6",purple:"800080",rebeccapurple:"663399",red:"FF0000",rosybrown:"BC8F8F",royalblue:"4169E1",saddlebrown:"8B4513",salmon:"FA8072",sandybrown:"F4A460",seagreen:"2E8B57",seashell:"FFF5EE",sienna:"A0522D",silver:"C0C0C0",skyblue:"87CEEB",slateblue:"6A5ACD",slategray:"708090",slategrey:"708090",snow:"FFFAFA",springgreen:"00FF7F",steelblue:"4682B4",tan:"D2B48C",teal:"008080",thistle:"D8BFD8",tomato:"FF6347",turquoise:"40E0D0",violet:"EE82EE",wheat:"F5DEB3",white:"FFFFFF",whitesmoke:"F5F5F5",yellow:"FFFF00",yellowgreen:"9ACD32"},u=.618033988749895,c={hue:null,saturation:null,value:null,base_color:"",greyscale:!1,grayscale:!1,golden:!0,full_random:!1,colors_returned:1,format:"hex",seed:null},h={scheme_type:"analogous",format:"hex"},f={golden:!1,format:"hex"};return l.NAME_to_HEX=function(e){return e=e.toLowerCase(),e in s?s[e]:void console.error("Color name not recognized.")},l.NAME_to_RGB=function(e){return l.HEX_to_RGB(l.NAME_to_HEX(e))},l.NAME_to_HSV=function(e){return l.HEX_to_HSV(l.NAME_to_HEX(e))},l.HEX_to_RGB=function(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,n,r){return t+t+n+n+r+r});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null},l.RGB_to_HEX=function(e){return"#"+((1<<24)+(e.r<<16)+(e.g<<8)+e.b).toString(16).slice(1)},l.HSV_to_RGB=function(e){var t,n,r,a,o,i,l,s,u=e.h,c=e.s,h=e.v;if(0===c)return{r:h,g:h,b:h};switch(u/=60,a=Math.floor(u),o=u-a,i=h*(1-c),l=h*(1-c*o),s=h*(1-c*(1-o)),a){case 0:t=h,n=s,r=i;break;case 1:t=l,n=h,r=i;break;case 2:t=i,n=h,r=s;break;case 3:t=i,n=l,r=h;break;case 4:t=s,n=i,r=h;break;case 5:t=h,n=i,r=l}return{r:Math.floor(255*t),g:Math.floor(255*n),b:Math.floor(255*r)}},l.RGB_to_HSV=function(e){var t=e.r/255,n=e.g/255,r=e.b/255,a=0,o=0,i=0,l=Math.min(t,Math.min(n,r)),s=Math.max(t,Math.max(n,r));if(l===s)return i=l,{h:0,s:0,v:i};var u=t===l?n-r:r===l?t-n:r-t,c=t===l?3:r===l?1:5;return a=60*(c-u/(s-l)),o=(s-l)/s,i=s,{h:a,s:o,v:i}},l.HSV_to_HEX=function(e){return l.RGB_to_HEX(l.HSV_to_RGB(e))},l.HEX_to_HSV=function(e){return l.RGB_to_HSV(l.HEX_to_RGB(e))},l.make_scheme=function(e,t){function a(e){return{h:e.h,s:e.s,v:e.v}}var i,l,s,u,c,f=o(h);if(null!==t)for(var d in t)t.hasOwnProperty(d)&&(f[d]=t[d]);var v=[e];switch(f.scheme_type.toLowerCase()){case"monochromatic":case"mono":for(c=1;2>=c;c++)i=a(e),s=i.s+.1*c,s=n(s,0,1),u=i.v+.1*c,u=n(u,0,1),i.s=s,i.v=u,v.push(i);for(c=1;2>=c;c++)i=a(e),s=i.s-.1*c,s=n(s,0,1),u=i.v-.1*c,u=n(u,0,1),i.s=s,i.v=u,v.push(i);break;case"complementary":case"complement":case"comp":i=a(e),i.h=(i.h+180)%360,v.push(i);break;case"split-complementary":case"split-complement":case"split":i=a(e),i.h=(i.h+165)%360,v.push(i),i=a(e),i.h=Math.abs((i.h-165)%360),v.push(i);break;case"double-complementary":case"double-complement":case"double":i=a(e),i.h=(i.h+180)%360,v.push(i),i.h=(i.h+30)%360,l=a(i),v.push(i),i.h=(i.h+180)%360,v.push(l);break;case"analogous":case"ana":for(c=1;5>=c;c++)i=a(e),i.h=(i.h+20*c)%360,v.push(i);break;case"triadic":case"triad":case"tri":for(c=1;3>c;c++)i=a(e),i.h=(i.h+120*c)%360,v.push(i);break;default:console.error("Color scheme not recognized.")}return r(f.format.toLowerCase(),v),v},l.make_color=function(a){var s=[],h=o(c),f=null;if(null!==a)for(var d in a)a.hasOwnProperty(d)&&(h[d]=a[d]);var v=null;"string"==typeof h.seed&&(v=new i(h.seed)),h.base_color.length>0&&(f=h.base_color.match(/^#?([0-9a-f]{3})([0-9a-f]{3})?$/i)?l.HEX_to_HSV(h.base_color):l.NAME_to_HSV(h.base_color));for(var F=0;F<h.colors_returned;F++){var p,y,g,m=e(0,360,v);null!==f?(p=n(e(f.h-5,f.h+5,v),0,360),y=0===f.s?0:t(.4,.85,v),g=t(.4,.85,v),s.push({h:p,s:y,v:g})):(p=h.greyscale===!0||h.grayscale===!0?0:h.golden===!0?(m+m/u)%360:null===h.hue||h.full_random===!0?m:n(h.hue,0,360),y=h.greyscale===!0||h.grayscale===!0?0:h.full_random===!0?t(0,1,v):null===h.saturation?.4:n(h.saturation,0,1),g=h.full_random===!0?t(0,1,v):h.greyscale===!0||h.grayscale===!0?t(.15,.75,v):null===h.value?.75:n(h.value,0,1),s.push({h:p,s:y,v:g}))}return r(h.format.toLowerCase(),s),s},l.make_contrast=function(e,t){var i=o(f);if(null!==t)for(var s in t)t.hasOwnProperty(s)&&(i[s]=t[s]);var c,h,d=a(e);if(i.golden===!0)h=e.h*(1+u)%360;else{var v=l.make_scheme(e,{scheme_type:"complementary",format:"hsv"})[1];h=n(v.h-30,0,360)}var F;return"dark"===d?F=n(e.v-.25,0,1):"light"===d&&(F=n(e.v+.25,0,1)),c=[{h:h,s:e.s,v:F}],r(i.format.toLowerCase(),c),c[0]},l}return e()})},{}],2:[function(e,t,n){"use strict";function r(e){return String(e).replace(a,o)}var a=/[ \t]*\n+[ \t]*/g,o="\n";t.exports=r},{}],3:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.Player=void 0;var l=function e(t,n,r){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(void 0===a){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in a)return a.value;var i=a.get;if(void 0!==i)return i.call(r)},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("./SLW"),c=(r(u),e("./Tile")),h=r(c),f=e("./util"),d=!0,v=function(){function t(){i(this,t),this.x=0,this.y=0,this.xv=0,this.yv=0,this.w=16,this.h=16;var n=e("pleasejs").make_color({format:"rgb"})[0];this.color="rgba("+n.r+", "+n.g+", "+n.b+", 0.75)"}return s(t,[{key:"top",get:function(){return Math.floor(this.y)}},{key:"bottom",get:function(){return Math.floor(this.y+this.h)}},{key:"left",get:function(){return Math.floor(this.x)}},{key:"right",get:function(){return Math.floor(this.x+this.w)}}]),s(t,[{key:"update",value:function(e){var t=0,n=Math.floor(this.xv);t=(0,f.sign)(n);for(var r=0;r<Math.abs(n);r++)this.x+=t,this.collides&&(this.x-=t,this.xv=0);var a=Math.floor(this.yv);t=(0,f.sign)(a);for(var o=0;o<Math.abs(a);o++)if(this.y+=t,this.collides){this.y-=t,this.yv=0;var i=Math.round(this.left/h.default.size),l=this.top/h.default.size-1,s=h.default.at([i,l]);s.interaction.airPunched&&s.interaction.airPunched.apply({x:i,y:l,player:this})}}},{key:"draw",value:function(e){var t=e.canvas.getContext("2d");t instanceof CanvasRenderingContext2D&&d&&(t.fillStyle=this.color,t.fillRect(this.left,this.top,this.w+1,this.h+1))}},{key:"collides",get:function(){var e=Math.floor(this.left/h.default.size),t=Math.floor(this.right/h.default.size),n=Math.floor(this.top/h.default.size),r=Math.floor(this.bottom/h.default.size),a=window.game.activeLevel.tiles.split("\n")[0].length-1,o=window.game.activeLevel.tiles.split("\n").length-1;e<0&&(e=0),t>a&&(t=a),n<0&&(n=0),r>o&&(r=o);for(var i=!1,l=e;l<=t;l++)for(var s=n;s<=r;s++){var u=h.default.at([l,s]);u.solid&&(i=!0)}return i}},{key:"grounded",get:function(){return h.default.at([Math.floor(this.x/16),this.bottom/16+.1]).solid||h.default.at([Math.ceil(this.x/16),this.bottom/16+.1]).solid}}]),t}();n.default=v;n.Player=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.x=e,r.y=n,r.w=16,r.h=24,r.jumpSound=new window.Audio("sound/smw_jump.wav"),r}return o(t,e),s(t,[{key:"update",value:function(e){e.keys[39]&&(this.xv+=1),e.keys[37]&&(this.xv-=1),e.keys[39]||e.keys[37]||(this.xv+=(0,f.sign)(this.xv)*-.5),this.grounded&&e.keys[32]&&(this.yv=-4,this.jumpSound.play()),this.xv=Math.min(this.xv,3),this.xv=Math.max(this.xv,-3),this.yv=Math.min(this.yv,4),this.yv+=.25,l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e)}}]),t}(v)},{"./SLW":4,"./Tile":5,"./util":7,pleasejs:1}],4:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=a(["--------------------\n                       --------------------\n                       --------------------\n                       --------------------\n                       ----------------===-\n                       --------------------\n                       --------------------\n                       --------===---------\n                       --------------------\n                       ==------------------\n                       --------------------\n                       ----------=?=-------\n                       ------=-------------\n                       -----===------------\n                       ----=====----===----\n                       =================---\n                       ===================="],["--------------------\n                       --------------------\n                       --------------------\n                       --------------------\n                       ----------------===-\n                       --------------------\n                       --------------------\n                       --------===---------\n                       --------------------\n                       ==------------------\n                       --------------------\n                       ----------=?=-------\n                       ------=-------------\n                       -----===------------\n                       ----=====----===----\n                       =================---\n                       ===================="]),u=e("./Tile"),c=r(u),h=e("./Entity"),f=e("trim-lines"),d=function(){function e(){var t=this;o(this,e),this.keys={},this.canvas=document.createElement("canvas"),this.canvas.width=256,this.canvas.height=256,this.canvas.addEventListener("keydown",function(e){t.keys[e.keyCode]=!0}),this.canvas.addEventListener("keyup",function(e){t.keys[e.keyCode]=!1}),this.canvas.setAttribute("tabindex","1"),this.player=new h.Player(16,16),this.camera=[0,0],this.activeLevel={tiles:f(s)}}return l(e,[{key:"canvasClear",value:function(){var e=this.canvas.getContext("2d");e instanceof CanvasRenderingContext2D&&e.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"getDrawnPosition",value:function(e){var t=i(e,2),n=t[0],r=t[1];return[Math.floor(n*c.default.size),Math.floor(r*c.default.size)]}},{key:"drawLevelTiles",value:function(){var e=this.activeLevel.tiles.split("\n"),t=this.canvas.getContext("2d");if(t instanceof CanvasRenderingContext2D)for(var n=0,r=0,a=16,o=16,l=r;l<o;l++)for(var s=n;s<a;s++){var u=e[l]||[],h=u[s]||"",f=this.getDrawnPosition([s,l]),d=i(f,2),v=d[0],F=d[1],p=i(c.default.get(h).position,2),y=p[0],g=p[1];t.drawImage(this.tileset,y*c.default.size,g*c.default.size,c.default.size,c.default.size,v,F,c.default.size,c.default.size)}}},{key:"placeTile",value:function(e,t){var n=i(e,2),r=n[0],a=n[1],o=this.activeLevel.tiles.split("\n"),l=o[a].split("");l[r]=t,o[a]=l.join(""),this.activeLevel.tiles=o.join("\n")}}]),e}();n.default=d},{"./Entity":3,"./Tile":5,"trim-lines":2}],5:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t){r(this,e),this.name=t.name||"Unknown",this.position=t.position,this.solid=t.solid||!1,this.interaction=t.interaction||{}}return o(e,[{key:"onAirPunched",value:function(){}}],[{key:"get",value:function(e){var t=l.get(e);if(t)return t;throw new RangeError("Tile "+e+" not found.")}},{key:"at",value:function(t){var n=a(t,2),r=n[0],o=n[1],i=window.game.activeLevel.tiles.split("\n"),l=i[Math.floor(o)][Math.floor(r)];return e.get(l)}}]),e}();n.default=i;var l=n.tilemap=new Map([["=",new i({name:"Solid Block",position:[0,0],solid:!0})],["?",new i({name:"? Block",position:[1,0],solid:!0,interaction:{airPunched:function(){new window.Audio("sound/smw_shell_ricochet.wav").play(),window.game.placeTile([this.x,this.y],"x")}}})],["-",new i({name:"Air",position:[2,0]})],["x",new i({name:"Punched ? Block",position:[3,0],solid:!0})]]);i.size=16},{}],6:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=e("./SLW"),o=r(a);window.addEventListener("load",function(e){var t=new Image;t.onload=function(){var e=new o.default;window.game=e,document.body.appendChild(e.canvas),e.tileset=t,e.canvas.focus();!function t(){requestAnimationFrame(t),e.canvasClear(),e.drawLevelTiles(),e.player.update(e),e.player.draw(e)}()},t.src="tileset.png"})},{"./SLW":4}],7:[function(e,t,n){"use strict";function r(e){return e>0?1:e<0?-1:0}Object.defineProperty(n,"__esModule",{value:!0}),n.sign=r},{}]},{},[6]);
//# sourceMappingURL=index.js.map
